(this.webpackJsonpyawc=this.webpackJsonpyawc||[]).push([[0],{110:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(68),o=t.n(a),i=(t(85),t(8)),l=t(30),u=t(9),s=t(57),d={typography:{fontSize:14,fontFamily:"'Ubuntu', sans-serif"},default:{color:"white",backgroundColor:"black",borderColor:"#d9d9d9",borderRadius:4},focus:{color:"white",borderColor:"#40a9ff"},active:{color:"#096dd9",borderColor:"#096dd9"},disabled:{color:"grey",backgroundColor:"#444444"},spacing:function(e){return 4*e},size:{lineHeight:"1.5",height:32}},h={base:"\n        background-image: none;\n        background-color: ".concat(d.default.backgroundColor,";\n        border: 1px solid ").concat(d.default.borderColor,";\n        border-radius: ").concat(d.spacing(1),"px;\n        box-sizing: border-box;\n        color: ").concat(d.default.color,";\n        font-family: ").concat(d.typography.fontFamily,";\n        font-size: ").concat(d.typography.fontSize,"px;\n        height: ").concat(d.size.height,"px;\n        line-height: ").concat(d.size.lineHeight,";\n        margin: ").concat(d.spacing(1),"px;\n        outline: 0;\n        transition: all .3s cubic-bezier(.645, .045, .355, 1);\n    "),active:"\n        color: ".concat(d.active.color,";\n        border-color: ").concat(d.active.borderColor,";\n    "),hover:"\n        color: ".concat(d.focus.color,";\n        border-color: ").concat(d.focus.borderColor,";\n    "),focus:"\n        color: ".concat(d.focus.color,";\n        border-color: ").concat(d.focus.borderColor,";\n        border-style: dashed;\n    "),disabled:"\n        color: ".concat(d.disabled.color,";\n        background-color: ").concat(d.disabled.backgroundColor,"\n    ")},f=d;function b(){var e=Object(i.a)(["\n    ","\n    cursor: pointer;\n    padding: 0 ","px;\n    text-align: center;\n\n    :active {\n        ","\n    }\n\n    :hover(not:disabled) {\n        ","\n    }\n\n    :focus {\n        ","\n    }\n\n    :disabled {\n        ","\n    }\n"]);return b=function(){return e},e}var p=u.b.button(b(),h.base,f.spacing(3),h.active,h.hover,h.focus,h.disabled);function m(){var e=Object(i.a)(["\n    ","\n    padding: 0 ","px;\n    text-align: left;\n\n    :active {\n        ","\n    }\n\n    :hover(not:disabled) {\n        ","\n    }\n\n    :focus {\n        ","\n    }\n\n    :disabled {\n        ","\n    }\n"]);return m=function(){return e},e}var v=u.b.input(m(),h.base,f.spacing(1),h.active,h.hover,h.focus,h.disabled);function g(){var e=Object(i.a)(["\n    ","\n    height: ","px;\n    padding: ","px;\n    text-align: left;\n\n    :active {\n        ","\n    }\n\n    :hover(not:disabled) {\n        ","\n    }\n\n    :focus {\n        ","\n    }\n\n    :disabled {\n        ","\n    }\n"]);return g=function(){return e},e}var E=u.b.textarea(g(),h.base,f.spacing(2*f.typography.fontSize),f.spacing(1),h.active,h.hover,h.focus,h.disabled);function O(){var e=Object(i.a)(["\n    fill: ",";\n    transition: fill .3s cubic-bezier(.645, .045, .355, 1);\n    vertical-align: bottom;\n\n    :hover {\n        fill: ",";\n    }\n"]);return O=function(){return e},e}var j=u.b.svg(O(),f.default.color,f.focus.color),y=function(e){var n=e.width,t=e.height;return c.a.createElement(j,{width:n,height:t,viewBox:"0 0 16 16",version:"1.1"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"}))};function w(e){var n=e.href,t=f.size.height+f.spacing(1);return c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},c.a.createElement(y,{width:t,height:t}))}var x=t(50),z=t.n(x);function $(){var e=Object(i.a)(["\n    color: red;\n"]);return $=function(){return e},e}function k(){var e=Object(i.a)(["\n    width: 120px;\n"]);return k=function(){return e},e}function C(){var e=Object(i.a)(["\n    width: 100px;\n"]);return C=function(){return e},e}function S(){var e=Object(i.a)(["\n    width: 20px;\n"]);return S=function(){return e},e}function R(){var e=Object(i.a)(["\n    flex: 1;\n"]);return R=function(){return e},e}function q(){var e=Object(i.a)(["\n        height: 24px;\n        line-height: 24px;\n        background-color: black;\n    "]);return q=function(){return e},e}function D(){var e=Object(i.a)(["\n        color: #eeff00;\n        background-color: #274c22;\n    "]);return D=function(){return e},e}function B(){var e=Object(i.a)(["\n    display: flex;\n    border-bottom: 1px solid green;\n    line-height: 20px;\n    ","\n    ","\n"]);return B=function(){return e},e}function _(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n"]);return _=function(){return e},e}function A(){var e=Object(i.a)(["\n    fill: ",";\n    vertical-align: text-top;\n    padding: 2px 0;\n"]);return A=function(){return e},e}var I=u.b.svg(A(),(function(e){return e.fill||d.default.color})),F=function(e){var n=e.width,t=e.height;return c.a.createElement(I,{fill:"#00ffed",width:n,height:t,viewBox:"0 0 14.317642211914062 14.059268951416016",version:"1.1"},c.a.createElement("path",{fillRule:"evenodd",d:"M7.4.03a7 7 0 1 0 .002 13.999A7 7 0 0 0 7.4.03zm0 11a.751.751 0 1 1 .003-1.502.751.751 0 0 1-.002 1.502zm.75-3.75a.75.75 0 0 1-1.5 0v-3.5a.75.75 0 0 1 1.5 0v3.5z"}))},L=function(e){var n=e.width,t=e.height;return c.a.createElement(I,{fill:"#0ffd0f",width:n,height:t,viewBox:"0 0 12 13",version:"1.1"},c.a.createElement("path",{fillRule:"evenodd",d:"M4 7V0h4v7h4l-6 6-6-6z"}))},M=function(e){var n=e.width,t=e.height;return c.a.createElement(I,{fill:"red",width:n,height:t,viewBox:"0 0 12 13",version:"1.1"},c.a.createElement("path",{fillRule:"evenodd",d:"M4 6v7h4V6h4L6 0 0 6z"}))},H=function(e){var n=e.width,t=e.height;return c.a.createElement(I,{fill:"white",width:n,height:t,viewBox:"-1 0 512 512",version:"1.1"},c.a.createElement("path",{d:"m195 362h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m75 482h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}),c.a.createElement("path",{d:"m475 362h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m355 482h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}),c.a.createElement("path",{d:"m195 181h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m75 301h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}),c.a.createElement("path",{d:"m335 181h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m495 301h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}),c.a.createElement("path",{d:"m55 0h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m215 120h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}),c.a.createElement("path",{d:"m475 0h-20c-19.300781 0-35 15.699219-35 35v80c0 19.300781 15.699219 35 35 35h20c19.300781 0 35-15.699219 35-35v-80c0-19.300781-15.699219-35-35-35zm5 115c0 2.757812-2.242188 5-5 5h-20c-2.757812 0-5-2.242188-5-5v-80c0-2.757812 2.242188-5 5-5h20c2.757812 0 5 2.242188 5 5zm0 0"}),c.a.createElement("path",{d:"m355 120h-15v-105c0-8.285156-6.714844-15-15-15h-30c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h15v90h-15c-8.285156 0-15 6.714844-15 15s6.714844 15 15 15h60c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"}))},P=u.b.div(_()),V=u.b.div(B(),(function(e){return e.isReq&&Object(u.a)(D())}),(function(e){return e.isHeader&&Object(u.a)(q())})),J=u.b.div(R()),T=u.b.div(S()),U=u.b.div(C()),W=u.b.div(k()),K=u.b.span($());function N(e){var n={width:16,height:16};switch(e.type){case"req":return c.a.createElement(M,n);case"res":return c.a.createElement(L,n);case"event":return c.a.createElement(F,n);case"error":return c.a.createElement(K,null,"ER");default:return null}}function Y(e){var n=e.type,t=e.message,a=e.length,o=e.ts,i=Object(r.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],h="req"===n,f=new Date(o),b=f.getMilliseconds(),p="object"===typeof t,m=Object(r.useState)(null),v=Object(l.a)(m,2),g=v[0],E=v[1],O=Object(r.useState)(null),j=Object(l.a)(O,2),y=j[0],w=j[1];return Object(r.useEffect)((function(){if(p){!function(){var e,n,r,c;z.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,z.a.awrap(t.arrayBuffer());case 2:return e=a.sent,n=new Uint8Array(e),r=n.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(""),a.next=7,z.a.awrap(t.text());case 7:c=a.sent,w("0x"+r.replace(/.{4}/g,(function(e){return" "+e}))),E(c);case 10:case"end":return a.stop()}}))}()}else E("".concat(t))}),[t,p]),c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{isReq:h},c.a.createElement(T,null,c.a.createElement(N,{type:n})),c.a.createElement(J,{onClick:function(){return d(!s)}},p&&c.a.createElement(c.a.Fragment,null,c.a.createElement(H,{width:14,height:14})," "),g&&function(e){var n=e.toString();return n.length>50?n.substr(0,47)+"...":n}(g)),c.a.createElement(U,null,"req"===n||"res"===n?p?t.size:a:"--"),c.a.createElement(W,null,c.a.createElement("small",null,f.toLocaleTimeString()),".",c.a.createElement("strong",null,function(e,n){for(var t=String(e);t.length<(n||2);)t="0"+t;return t}(b,3)))),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{isReq:h},c.a.createElement("pre",{style:{overflow:"auto",padding:20}},y&&c.a.createElement("small",{style:{color:"aquamarine"}},y),y&&c.a.createElement("br",null),g))))}function G(){return c.a.createElement(V,null,c.a.createElement(J,null,"--"),c.a.createElement(U,null,"--"),c.a.createElement(W,null,"--"))}function Q(){return c.a.createElement(V,{isHeader:!0},c.a.createElement(J,null,"Data"),c.a.createElement(U,null,"Length"),c.a.createElement(W,null,"Time"))}function X(e){var n=e.source;return c.a.createElement(P,null,c.a.createElement(Q,null),0===n.length&&c.a.createElement(G,null),n.length>0&&n.map((function(e){var n=e.type,t=e.message,r=e.ts;return c.a.createElement(Y,{key:r,type:n,message:t,length:t.length,ts:r})})))}function Z(){var e=Object(i.a)(["\n    flex: 1;\n"]);return Z=function(){return e},e}function ee(){var e=Object(i.a)(["\n    border-radius: 0 ","px ","px 0;\n    position: absolute;\n    right: 0;\n    width: ","px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(i.a)(["\n        color: #eeff00;\n        background-color: #274c22;\n    "]);return ne=function(){return e},e}function te(){var e=Object(i.a)(["\n    flex: 1;\n    padding-right: ","px;\n    ","\n"]);return te=function(){return e},e}function re(){var e=Object(i.a)(["\n    display: flex;\n    position: relative;\n"]);return re=function(){return e},e}function ce(){var e=Object(i.a)(["\n    display: flex;\n    flex-direction: column;\n    border: 1px solid grey;\n    border-radius: ","px;\n"]);return ce=function(){return e},e}var ae=u.b.div(ce(),d.spacing(1)),oe=u.b.div(re()),ie=d.spacing(30),le=Object(u.b)(v)(te(),ie,(function(e){return e.connected&&Object(u.a)(ne())})),ue=Object(u.b)(p)(ee(),d.spacing(1),d.spacing(1),ie),se=Object(u.b)(E)(Z());var de=function(e){var n=e.model,t=Object(r.useState)("ws://localhost:4000/ws"),a=Object(l.a)(t,2),o=a[0],i=a[1],u=Object(r.useState)(""),d=Object(l.a)(u,2),h=d[0],f=d[1],b=Object(s.useRxStateResult)(n.log$)||[],m=Object(s.useRxStateResult)(n.isConnected$)||!1,v=function(){return n.connect({uri:o})};return c.a.createElement(ae,null,c.a.createElement(oe,null,c.a.createElement(le,{tabIndex:1,type:"text",placeholder:"ws://...",defaultValue:o,connected:m,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){return 13===e.keyCode&&v()}}),c.a.createElement(ue,{tabIndex:2,type:"button",onClick:m?function(){return n.disconnect()}:v},m?"Disconnect":"Connect")),c.a.createElement(oe,null,c.a.createElement(se,{tabIndex:3,placeholder:"Request payload",onChange:function(e){return f(e.target.value)}})),c.a.createElement(oe,null,c.a.createElement(p,{tabIndex:4,disabled:!m,type:"button",onClick:function(){return n.send(h)}},"Send"),c.a.createElement(p,{tabIndex:5,type:"button",onClick:function(){return n.clearLog()}},"Clear")),c.a.createElement(oe,null,c.a.createElement(X,{source:b})))},he=t(74),fe=t(47),be=t(48),pe=t(75),me=t(73),ve=t(77),ge=t(51),Ee=t(7),Oe=t(13),je=t(66),ye=t(67),we=t(27);function xe(e,n,t){var r=t.get;t.get=function(){return!this["__".concat(n)]&&r&&(this["__".concat(n)]=r.apply(this)),this["__".concat(n)]}}var ze,$e=t(78),ke=t(69),Ce=t(112);var Se=(ze=function(e){function n(){var e,t;Object(fe.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=Object(pe.a)(this,(e=Object(me.a)(n)).call.apply(e,[this].concat(c)))).events$=new Ee.b,t.clearCommand$=new Ee.b,t}return Object(ve.a)(n,e),Object(be.a)(n,[{key:"clearLog",value:function(){this.clearCommand$.next("clear")}},{key:"isConnected$",get:function(){return this.connected$.pipe(Object(Oe.a)((function(e){return e.connected})))}},{key:"uri$",get:function(){return this.connected$.pipe(Object(Oe.a)((function(e){return e.uri})))}},{key:"log$",get:function(){var e=this.req$.pipe(Object(Oe.a)((function(e){return{type:"req",ts:Date.now(),message:"".concat(e)}}))),n=this.res$.pipe(Object(Oe.a)((function(e){return function(e){return"undefined"!==typeof e.error}(e)?{type:"error",ts:Date.now(),message:"code: ".concat(e.error.code," reason: '").concat(e.error.reason,"'")}:{type:"res",ts:Date.now(),message:e}}))),t=this.connected$.pipe(Object(je.a)(1),Object(Oe.a)((function(e){var n=e.connected,t=e.uri;return{type:"event",ts:Date.now(),message:n?"".concat(t," [connected]"):"".concat(t?t+" ":"","[disconnected]")}})));return e.pipe(Object(ye.a)(n),Object(ye.a)(t),Object(ye.a)(this.clearCommand$),Object(we.a)((function(e,n){return"clear"===n?[]:[].concat(Object(he.a)(e),[n])}),[]))}}]),n}(function(){function e(){Object(fe.a)(this,e),this.req$=new Ee.b,this.res$=new Ee.b,this.connected$=new ke.a({connected:!1}),this.current$=null,this.subscriptions=[]}return Object(be.a)(e,[{key:"connect",value:function(e){var n=this,t=e.uri,r=e.serializer,c=void 0===r?function(e){return e}:r,a=e.deserializer,o=void 0===a?function(e){return e.data}:a;t&&t.length>0&&(this.disconnect(),this.current$=Object(Ce.a)({url:t,serializer:c,deserializer:o,openObserver:{next:function(){return n.connected$.next({uri:t,connected:!0})}}}),this.subscriptions.push(this.req$.subscribe(this.current$)),this.subscriptions.push(this.current$.subscribe({next:function(e){return n.res$.next(e)},error:function(e){console.error(e),n.res$.next({error:{code:e.code,reason:e.reason}}),n.disconnect()},complete:function(){return n.disconnect()}})))}},{key:"disconnect",value:function(){if(this.current$){var e=this.current$.isStopped;this.current$.unsubscribe(),this.current$.complete(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[],e||this.connected$.next(Object($e.a)({},this.connected$.value,{connected:!1}))}}},{key:"send",value:function(e){if(!this.current$||this.current$.closed)throw new Error("Websocket is not connected.");this.req$.next(e)}}]),e}()),Object(ge.a)(ze.prototype,"isConnected$",[xe],Object.getOwnPropertyDescriptor(ze.prototype,"isConnected$"),ze.prototype),Object(ge.a)(ze.prototype,"uri$",[xe],Object.getOwnPropertyDescriptor(ze.prototype,"uri$"),ze.prototype),Object(ge.a)(ze.prototype,"log$",[xe],Object.getOwnPropertyDescriptor(ze.prototype,"log$"),ze.prototype),ze);function Re(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap:20px;\n"]);return Re=function(){return e},e}function qe(){var e=Object(i.a)(["\n  margin: ","px;\n  color: white;\n"]);return qe=function(){return e},e}var De=u.b.h1(qe(),d.spacing(1)),Be=u.b.div(Re()),_e=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(De,null,c.a.createElement(w,{href:"https://github.com/ddoronin/yawc"})," YAWC"),c.a.createElement(Be,null,c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se}),c.a.createElement(de,{model:new Se})))};o.a.render(c.a.createElement(_e,null),document.getElementById("root"))},80:function(e,n,t){e.exports=t(110)},85:function(e,n,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.00dc28eb.chunk.js.map